{{range .}}
<div class="worker-container">
    <button class="worker-button" onclick="toggleNode('{{.Name}}', this)">
        {{.Name}} ({{len .Pods}} pods)
    </button>
    
    <div class="worker-details" id="details-{{.Name}}">
        <div class="stats-section">
            {{if .Stats}}
            <div class="stat-row">
                <span class="label">CPU</span>
                <span class="values">u:{{.Stats.CPU.User}}% k:{{.Stats.CPU.Kernel}}% total:{{.Stats.CPU.Total}}%</span>
            </div>
            
            <div class="stat-row">
                <span class="label">MEM</span>
                <span class="values">u:{{.Stats.Memory.User}}% k:{{.Stats.Memory.Kernel}}% total:{{.Stats.Memory.Total}}%</span>
            </div>
            
            <div class="stat-row">
                <span class="label">NET</span>
                <span class="values">in:{{.Stats.Network.In}}MB/s out:{{.Stats.Network.Out}}MB/s total:{{.Stats.Network.Total}}MB/s</span>
            </div>
            
            <div class="stat-row">
                <span class="label">DISK</span>
                <span class="values">r:{{.Stats.Disk.Read}}MB/s w:{{.Stats.Disk.Write}}MB/s total:{{.Stats.Disk.Total}}MB/s</span>
            </div>
            {{else}}
            <div class="stat-row">
                <span class="label">CPU</span>
                <span class="values">NULL</span>
            </div>
            
            <div class="stat-row">
                <span class="label">MEM</span>
                <span class="values">NULL</span>
            </div>
            
            <div class="stat-row">
                <span class="label">NET</span>
                <span class="values">NULL</span>
            </div>
            
            <div class="stat-row">
                <span class="label">DISK</span>
                <span class="values">NULL</span>
            </div>
            {{end}}
        </div>

        <div class="pods-section">
            <h3>PODS</h3>
            <div id="podsList-{{.Name}}">
                {{if .Pods}}
                    {{range .Pods}}
                    <div class="pod-container">
                        <div class="pod-header">
                            <span class="pod-name">{{.Name}}</span>
                            <span class="pod-namespace">ns:{{.Namespace}}</span>
                        </div>
                        <div class="pod-stats">
                            {{if .Stats}}
                            <span class="pod-stat">cpu:{{.Stats.CPU.Total}}%</span>
                            <span class="pod-stat">mem:{{.Stats.Memory.Total}}%</span>
                            <span class="pod-stat">net:{{.Stats.Network.Total}}MB/s</span>
                            <span class="pod-stat">disk:{{.Stats.Disk.Total}}MB/s</span>
                            {{else}}
                            <span class="pod-stat">cpu:NULL</span>
                            <span class="pod-stat">mem:NULL</span>
                            <span class="pod-stat">net:NULL</span>
                            <span class="pod-stat">disk:NULL</span>
                            {{end}}
                        </div>
                    </div>
                    {{end}}
                {{else}}
                    <div style="color: #666; font-style: italic;">No pods on this node</div>
                {{end}}
            </div>
        </div>
    </div>
</div>
{{end}}